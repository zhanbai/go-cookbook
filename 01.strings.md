# 字符串

## 1.1 访问子串

**问题**

想知道一个字符串是否包含一个特定的子串。例如，想查看一个 email 地址是否包含一个 @。

**解决方案**

使用 strings.Index()，如示例所示。

```
index := strings.Index("bai.zhan@qq.com", "@")
if index == -1 {
    fmt.Println("There was no @ in the e-mail address!")
}
```

**讨论**

strings.Index() 的返回值是子串在字符串中出现的第一个位置。如果字符串中没有该子串，strings.Index() 将返回 -1。如果子串位于这个字符串的起始位置，strings.Index() 返回 0，因为位置 0 表示字符串的开始位置。

**参见**

strings.Index() 的有关文档（https://golang.google.cn/pkg/strings/#Index）。

## 1.2 抽取子串

**问题**

希望从字符串的某个特定位置开始抽取这个字符串中的一部分。例如，对于一个用户名，想要得到这个用户名的前 4 个字符。

**解决方案**

使用 string[start:start+length] 选择子串，如示例 1-2 所示：

```
fmt.Println("zhanbai"[0:4])
```

**讨论**

如果 start 和 length 都是正数，string[] 会返回字符串中从 start 开始的 length 个字符。字符串中的第一个字符位置为 0。如示例 1-3 所示：

```
fmt.Println("watch out for that tree"[6:11])
```

输出如下：

```
out f
```

如果忽略 length，string[] 会返回从 start 到原字符串末尾的子串，如示例 1-4 所示：

```
fmt.Println("watch out for that tree"[17:])
```

输出如下：

```
t tree
```

## 1.3 替换子串

**问题**

希望用另一个不同的字符串来替换一个子串。例如，打印一个信用号之前，想要对除了后四位以外的部分模糊处理。

**解决方案**

使用 strings.Replace() 和 string[start:start+length]，如示例 1-3 所示：

```
str := "My pet is a blue dog."
fmt.Println(strings.Replace(str, str[12:], "fish.", 1))
fmt.Println(strings.Replace(str, str[12:16], "green", 1))
creditCard := "4111 1111 1111 1111"
fmt.Println(strings.Replace(creditCard, creditCard[0:len(creditCard) - 4], "xxxx ", 1))
```

输出如下：

```
My pet is a fish.
My pet is a green dog.
xxxx 1111
```

**讨论**

如果没有 length 参数，strings.Replace() 将替换从 start 到字符串末尾的所有字符。如果指定 length，只会替换指定数目的字符。

**参见**

strings.Replace() 的有关文档（https://golang.google.cn/pkg/strings/#Replace）。
